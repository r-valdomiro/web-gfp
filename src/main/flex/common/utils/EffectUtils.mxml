<?xml version = "1.0" encoding = "utf-8"?>
<fx:Object xmlns:fx = "http://ns.adobe.com/mxml/2009"
		   xmlns:s = "library://ns.adobe.com/flex/spark"
		   xmlns:mx = "library://ns.adobe.com/flex/mx">
	<fx:Script>
		<![CDATA[
			import mx.effects.Sequence;
			import mx.events.EffectEvent;
			
			import spark.effects.Move;
			
			public static function shake(target:Object, nextSequence:Function = null):void
			{
				var shakeEffect:Sequence = new Sequence(target);
				var move:Move;
				
				move = new Move();
				move.xTo = target.x - 5;
				shakeEffect.addChild(move);
				
				move = new Move();
				move.xTo = target.x + 10;
				shakeEffect.addChild(move);
				
				move = new Move();
				move.xTo = target.x - 10;
				shakeEffect.addChild(move);
				
				move = new Move();
				move.xTo = target.x + 10;
				shakeEffect.addChild(move);
				
				move = new Move();
				move.xTo = target.x - 10;
				shakeEffect.addChild(move);
				
				move = new Move();
				move.xTo = target.x + 5;
				shakeEffect.addChild(move);
				
				shakeEffect.duration = 100;
				
				if (nextSequence != null)
				{
					shakeEffect.addEventListener(EffectEvent.EFFECT_END, nextSequence);
				}
				
				shakeEffect.play([target]);
			}
		]]>
	</fx:Script>
</fx:Object>
